<!-- app/templates/products/list.html -->
{% extends "base.html" %}

{% block title %}{{ title|default('Products') }}{% endblock %}

{% block content %}
<h1>{{ title|default('All Products') }}</h1>
<div class="product-grid">
    {% for product in products %}
    <div class="product-card">
        <img src="{{ product.imagen_url or url_for('static', filename='images/placeholder.png') }}" alt="{{ product.nombre }}">
        <h3>{{ product.nombre }}</h3>
        <p class="price">
            {% if product.precio_descuento %}
                <span class="original-price">{{ product.precio }}</span>
                <span class="discounted-price">{{ product.precio_descuento }}</span>
            {% else %}
                {{ product.precio }}
            {% endif %}
        </p>
        <a href="{{ url_for('products.product_detail', id=product.id_producto) }}" class="btn">View Details</a>
    </div>
    {% endfor %}
</div>
{% endblock %}