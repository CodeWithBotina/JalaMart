<!-- app/templates/orders/detail.html -->
{% extends "base.html" %}

{% block title %}Order #{{ order.id_pedido }}{% endblock %}

{% block content %}
<div class="order-detail">
    <h1>Order #{{ order.id_pedido }}</h1>
    <div class="order-info">
        <p><strong>Date:</strong> {{ order.fecha_pedido }}</p>
        <p><strong>Status:</strong> {{ order.estado }}</p>
        <p><strong>Shipping Address:</strong> {{ order.direccion_envio }}</p>
        <p><strong>Payment Method:</strong> {{ order.metodo_pago }}</p>
    </div>

    <h2>Order Items</h2>
    <table class="order-items">
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items %}
            <tr>
                <td>{{ item.nombre }}</td>
                <td>${{ item.precio_unitario }}</td>
                <td>{{ item.cantidad }}</td>
                <td>${{ item.precio_unitario * item.cantidad }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">Subtotal:</td>
                <td>${{ order.subtotal }}</td>
            </tr>
            <tr>
                <td colspan="3">Taxes:</td>
                <td>${{ order.impuestos }}</td>
            </tr>
            <tr>
                <td colspan="3">Total:</td>
                <td>${{ order.total }}</td>
            </tr>
        </tfoot>
    </table>
</div>
{% endblock %}